ORG 0000H
MOV IE,#88H;
MOV TMOD,#21H;
LJMP MAIN
ORG 001BH
CLR TF1
CLR TR1
ACALL INPT
MOV TH0,#0FFH;
MOV TL0,#0D2H
MOV TH1,#48H;
SETB TR1;
RETI
ORG 0030H
MAIN: MOV TH1,#48H;
SETB TR1
LOOPM: MOV R0,#01H;
LOOP1:MOV A,R0;
MOV P0,A;
ACALL DLY50U;
INC R0;
CJNE R0,#31H,LOOP1;
ORG 0050H
INPT:MOV A,R0;
MOV R1,A;
LOOP3:MOV A,R1;
MOV P1,A;
ACALL DLY1;
DJNZ R1,LOOP3
RET
ORG 0070H
DLY50U:MOV TL0,#0D2H
MOV TH0,#0FFH
SETB TR0;
WAIT1:JNB TF0,WAIT1;
CLR TF0;
RET
ORG 0100H
DLY1:MOV TH0,#4CH;
MOV TL0,#00H
MOV R7,#20
LOOP2:SETB TR0;
WAIT2:JNB TF0,WAIT2;
CLR TF0;
DJNZ R7,LOOP2;
RET
END
